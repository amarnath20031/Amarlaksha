import t from"express";import{log as s,setupVite as n,serveStatic as c}from"../shared/server/vite";import{registerRoutes as p}from"../shared/server/routes";const e=t();e.use(t.json({limit:"10mb"})),e.use(t.urlencoded({extended:!0}));const o="0.0.0.0",i=parseInt(process.env.PORT||"5000",10);async function a(){try{const r=await p(e);process.env.NODE_ENV==="production"?c(e):await n(e,r),r.listen(i,o,()=>{s(`\u{1F680} Server running on http://${o}:${i}`),process.env.NODE_ENV==="production"?s("\u{1F4E6} Serving static files from dist/public"):s("\u{1F525} Development mode with Vite HMR")})}catch(r){console.error("\u274C Failed to start server:",r),process.exit(1)}}a();
